/*!all-2017-08-14 */

!function(a,b,c){function d(a){var b={box:"",autoTimeout:3e3,playItemWidth:200};c.extend(!0,b,a||{}),this.$box=c(b.box),this.$boxWidth=this.$box.width(),this.$con=this.$box.find(".md"),this.$item=this.$con.find("li"),this.itemLen=this.$item.length,this.autoTimeout=b.autoTimeout,this.hand=null,this._index=0,this.timmer=0,this.init()}d.prototype={init:function(){this.handle(),this.autoPlay(),this.loadEnd(),this.resize()},resize:function(){var b=this;c(a).on("resize",function(){b.playItemWidth=b.$boxWidth,b.$item.width(b.$boxWidth),b._index=0,b.onPlay(b._index)}).trigger("resize")},handle:function(){var a="";a+='<ul class="hd">';for(var b=0;b<this.itemLen;b++)a+=0===b?'<li class="active">'+(b+1)+"</li>":"<li>"+(b+1)+"</li>";a+="</ul>",this.hand=c(a).appendTo(this.$box),this.onHand()},onHand:function(){var a=this;this.hand.find("li").each(function(b){c(this).on("click",function(){clearTimeout(a.timmer),c(this).addClass("active").siblings().removeClass("active"),a.onPlay(b),a._index=b,a.autoPlay()})})},autoPlay:function(){var a=this;this.timmer=setInterval(function(){var b=++a._index;b<a.itemLen?a.onPlay(b):b==a.itemLen&&(b=a._index=0,a.onPlay(b))},a.autoTimeout)},onPlay:function(a){this.handTurn(a),this.picTurn(a)},picTurn:function(a){var b=this;this.$con.animate({"margin-left":-b.playItemWidth*a+"px"},"slow",function(){b.$con.find("li").find(".con").removeClass("active"),b.$con.find("li").eq(a).find(".con").addClass("active")})},handTurn:function(a){this.hand.find("li").eq(a).addClass("active").siblings().removeClass("active")},loadEnd:function(){var a=this;setTimeout(function(){a.$con.find("li").eq(0).find(".con").addClass("active")},100)}},a.slider=d}(window,document,jQuery);